<!doctype html>
<html lang="{{languageCode}}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>FoodCoach-bot</title>
    <style>
      html,
      body,
      .main {
        height: 100% !important;
      }

      .main {
        background-image: url('https://images.unsplash.com/photo-1493770348161-369560ae357d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80');
        background-size: cover;
      }

      .main-container {
        max-width: 840px;
        min-height: 300px;
        background-color: #fff;
      }
    </style>
  </head>
  <body>
    <div class="d-flex align-items-center bg-light main">
      <div class="container main-container d-flex align-items-center rounded">
        <div class="w-100 text-center">
          <h1>{{name}}</h1>

          <hr />

          <h4 class="text-muted mb-4">{{description}}</h4>

          <form id="form" action="#">
            <label for="languageSelect">{{language}}:</label>
            <select class="custom-select" id="languageSelect" name="lang" style="max-width: 300px;">
              <option value="en" selected>English</option>
              <option value="fr">Fran√ßais</option>
            </select>
          </form>
        </div>
      </div>
    </div>

    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
    <df-messenger
      intent="WELCOME"
      chat-title="FoodCoach-bot"
      agent-id="54162cbf-5d63-41ef-a478-c5d0ce4572aa"
      expand="true"
      language-code="{{languageCode}}"
    ></df-messenger>

    <script>
      var langSelect = document.querySelector('#languageSelect');
      langSelect.querySelector('[value="{{languageCode}}"]').setAttribute('selected', 'selected');

      langSelect.addEventListener('change', function (event) {
        document.querySelector('#form').submit();
      });
    </script>
  </body>
</html>